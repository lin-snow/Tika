import{_ as w,o as f,c as p,w as m,a as e,d as l,b as u,e as O,f as x,ag as v,r as i,h as U,N,x as _,G as d,a1 as S,D as b}from"./CkC02aX9.js";import{g as D}from"./BqHsLyaQ.js";const y={},h={class:"flex justify-between items-center"};function C(s,o){const n=O,r=x;return f(),p(r,{class:"mx-auto mt-4 max-w-sm"},{default:m(()=>[e("div",h,[e("div",null,[l(n,{to:"/",variant:"solid",color:"gray",size:"md",icon:"i-fluent-home-12-regular"},{default:m(()=>o[0]||(o[0]=[u(" 返回 ")])),_:1})]),e("div",null,[l(n,{to:"https://github.com/lin-snow/",target:"_blank",variant:"solid",color:"gray",size:"md",icon:"i-line-md-github"})])])]),_:1})}const $=w(y,[["render",C]]),g=v("userStore",()=>{const s=i(null),o=i(0),n=i(0);return{username:s,numOfDone:o,numOfUndone:n,setUsername:a=>{s.value=a},setNumOfDone:a=>{o.value=a},setNumOfUndone:a=>{n.value=a}}}),B=()=>{const s=g();return{getUserStatus:async()=>{try{const n=await D("user/status");if(!n)throw new Error("Get user status request failed");const{username:r,numOfDone:t,numOfUndone:c}=n.data;s.setUsername(r),s.setNumOfDone(t),s.setNumOfUndone(c)}catch(n){console.error(n)}}}},k={class:"font-bold text-2xl"},V={class:"p-2"},j={class:"text-2xl font-bold italic"},q={class:"text-2xl font-bold italic"},z=U({__name:"UserStatus",setup(s){const{getUserStatus:o}=B(),n=g();return N(()=>{o()}),(r,t)=>{const c=S,a=x;return f(),p(a,{class:"mx-auto mt-4 max-w-sm"},{default:m(()=>[l(a,null,{default:m(()=>[l(c,{name:"i-fluent-emoji-flat-waving-hand"}),t[4]||(t[4]=u(" Hi! ")),e("span",k,_(d(n).username),1),t[5]||(t[5]=u(" . ")),e("div",V,[t[0]||(t[0]=e("span",null,"您一共完成了",-1)),t[1]||(t[1]=u()),e("span",j,_(d(n).numOfDone),1),t[2]||(t[2]=u(" 个任务。 当前还剩下的任务有 ")),e("span",q,_(d(n).numOfUndone),1),t[3]||(t[3]=u(" 个。 "))])]),_:1}),t[6]||(t[6]=e("div",{class:"p-4 text-center"},[e("p",{class:"text-sm font-light italic"},[u("Author: "),e("a",{href:"https://linsnow.cn"}," L1nSn0w ")])],-1))]),_:1})}}}),A=U({__name:"user",setup(s){return(o,n)=>{const r=b;return f(),p(r,{class:"py-2 pb-4"},{default:m(()=>[l($),l(z)]),_:1})}}});export{A as default};
